\hypertarget{classcommon_1_1user_1_1legacy_1_1_validation}{\section{\-Validation \-Class \-Reference}
\label{classcommon_1_1user_1_1legacy_1_1_validation}\index{\-Validation@{\-Validation}}
}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_a3c49872dc41e063d02a5336a54780f15}{name} (\$string)
\item 
\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_a1ba8ea5a7fb74d491411290ec8c76402}{validate} (\$\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_a3c49872dc41e063d02a5336a54780f15}{name}, \$value)
\item 
\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_af5ea6a083ddb07beb8a30dd32e309ceb}{get} (\$\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_a3c49872dc41e063d02a5336a54780f15}{name})
\item 
\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_af51af2c766e3db5ae103d28479add0db}{is} (\$field, \$\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_a3c49872dc41e063d02a5336a54780f15}{name})
\item 
\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_aba0d5b303383fb5b1fabb5fd01cd3800}{get\-All} ()
\end{DoxyCompactItemize}
\subsection*{\-Protected \-Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcommon_1_1user_1_1legacy_1_1_validation_a8dcd469e6c336555e43c3003b0a0da54}{{\bfseries \$forms} = \mbox{[}$\,$\mbox{]}}\label{classcommon_1_1user_1_1legacy_1_1_validation_a8dcd469e6c336555e43c3003b0a0da54}

\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}


\-Definition at line 36 of file \-Validation.\-php.



\subsection{\-Member \-Function \-Documentation}
\hypertarget{classcommon_1_1user_1_1legacy_1_1_validation_af5ea6a083ddb07beb8a30dd32e309ceb}{\index{common\-::user\-::legacy\-::\-Validation@{common\-::user\-::legacy\-::\-Validation}!get@{get}}
\index{get@{get}!common::user::legacy::Validation@{common\-::user\-::legacy\-::\-Validation}}
\subsubsection[{get}]{\setlength{\rightskip}{0pt plus 5cm}{\bf get} (
\begin{DoxyParamCaption}
\item[{\$}]{name}
\end{DoxyParamCaption}
)}}\label{classcommon_1_1user_1_1legacy_1_1_validation_af5ea6a083ddb07beb8a30dd32e309ceb}
get field name of username$|$password$|$email


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$name} & field\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
string 
\end{DoxyReturn}


\-Definition at line 118 of file \-Validation.\-php.


\begin{DoxyCode}
    {
        $forms = $this->forms;
        foreach ($forms as $id => $item) {
            $val = $item->get();
            if (isset($val[$name]) && $val[$name]) {
                return $id;
            }
        }

        return false;
    }
\end{DoxyCode}
\hypertarget{classcommon_1_1user_1_1legacy_1_1_validation_aba0d5b303383fb5b1fabb5fd01cd3800}{\index{common\-::user\-::legacy\-::\-Validation@{common\-::user\-::legacy\-::\-Validation}!get\-All@{get\-All}}
\index{get\-All@{get\-All}!common::user::legacy::Validation@{common\-::user\-::legacy\-::\-Validation}}
\subsubsection[{get\-All}]{\setlength{\rightskip}{0pt plus 5cm}{\bf get\-All} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classcommon_1_1user_1_1legacy_1_1_validation_aba0d5b303383fb5b1fabb5fd01cd3800}
get all validation parameters from all fields

\begin{DoxyReturn}{\-Returns}
array 
\end{DoxyReturn}


\-Definition at line 149 of file \-Validation.\-php.


\begin{DoxyCode}
    {
        $forms = $this->forms;
        $a     = [];
        foreach ($forms as $id => $item) {
            $a[$id] = $item->get();
        }

        return $a;
    }
\end{DoxyCode}
\hypertarget{classcommon_1_1user_1_1legacy_1_1_validation_af51af2c766e3db5ae103d28479add0db}{\index{common\-::user\-::legacy\-::\-Validation@{common\-::user\-::legacy\-::\-Validation}!is@{is}}
\index{is@{is}!common::user::legacy::Validation@{common\-::user\-::legacy\-::\-Validation}}
\subsubsection[{is}]{\setlength{\rightskip}{0pt plus 5cm}{\bf is} (
\begin{DoxyParamCaption}
\item[{\$}]{field, }
\item[{\$}]{name}
\end{DoxyParamCaption}
)}}\label{classcommon_1_1user_1_1legacy_1_1_validation_af51af2c766e3db5ae103d28479add0db}
get one validation parameter from one field


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$field} & field \\
\hline
string & {\em \$name} & validation parameter\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
mixed 
\end{DoxyReturn}


\-Definition at line 139 of file \-Validation.\-php.


\begin{DoxyCode}
    {
        return $this->forms[$field]->get()[$name];
    }
\end{DoxyCode}
\hypertarget{classcommon_1_1user_1_1legacy_1_1_validation_a3c49872dc41e063d02a5336a54780f15}{\index{common\-::user\-::legacy\-::\-Validation@{common\-::user\-::legacy\-::\-Validation}!name@{name}}
\index{name@{name}!common::user::legacy::Validation@{common\-::user\-::legacy\-::\-Validation}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf name} (
\begin{DoxyParamCaption}
\item[{\$}]{string}
\end{DoxyParamCaption}
)}}\label{classcommon_1_1user_1_1legacy_1_1_validation_a3c49872dc41e063d02a5336a54780f15}
create new validation


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$string} & name\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{classcommon_1_1user_1_1legacy_1_1_validation_object}{\-Validation\-Object} 
\end{DoxyReturn}


\-Definition at line 50 of file \-Validation.\-php.


\begin{DoxyCode}
    {
        if (!isset($this->forms[$string])) {
            $this->forms[$string] = new ValidationObject($string);
        }

        return $this->forms[$string];
    }
\end{DoxyCode}
\hypertarget{classcommon_1_1user_1_1legacy_1_1_validation_a1ba8ea5a7fb74d491411290ec8c76402}{\index{common\-::user\-::legacy\-::\-Validation@{common\-::user\-::legacy\-::\-Validation}!validate@{validate}}
\index{validate@{validate}!common::user::legacy::Validation@{common\-::user\-::legacy\-::\-Validation}}
\subsubsection[{validate}]{\setlength{\rightskip}{0pt plus 5cm}{\bf validate} (
\begin{DoxyParamCaption}
\item[{\$}]{name, }
\item[{\$}]{value}
\end{DoxyParamCaption}
)}}\label{classcommon_1_1user_1_1legacy_1_1_validation_a1ba8ea5a7fb74d491411290ec8c76402}
validate a field


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$name} & field \\
\hline
mixed & {\em \$value} & value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
mixed 
\end{DoxyReturn}

\begin{DoxyExceptions}{\-Exceptions}
{\em $\backslash$common$\backslash$user$\backslash$exception$\backslash$\-Bad\-Charactes\-Username\-Validation\-Exception} & \\
\hline
{\em $\backslash$common$\backslash$user$\backslash$exception$\backslash$\-Field\-Not\-Allowed\-Validation\-Exception} & \\
\hline
{\em $\backslash$common$\backslash$user$\backslash$exception$\backslash$\-Max\-Length\-Validation\-Exception} & \\
\hline
{\em $\backslash$common$\backslash$user$\backslash$exception$\backslash$\-Min\-Length\-Validation\-Exception} & \\
\hline
{\em $\backslash$common$\backslash$user$\backslash$exception$\backslash$\-No\-Valid\-Email\-Validation\-Exception} & \\
\hline
{\em $\backslash$common$\backslash$user$\backslash$exception$\backslash$\-Required\-Validation\-Exception} & \\
\hline
{\em $\backslash$common$\backslash$user$\backslash$exception$\backslash$\-Username\-Taken\-Validation\-Exception} & \\
\hline
\end{DoxyExceptions}


\-Definition at line 74 of file \-Validation.\-php.


\begin{DoxyCode}
    {
        if (!isset($this->forms[$name]) && Config::init()->protectUserFields) {
            throw new FieldNotAllowedValidationException();
        }
        if (!isset($this->forms[$name])) {
            return $value;
        }
        $val = $this->forms[$name]->get();
        if (strlen($value) > $val["max"]) {
            throw new MaxLengthValidationException();
        }
        if (strlen($value) < $val["min"]) {
            throw new MinLengthValidationException();
        }
        if ($val["username"] && preg_match('/[\'^£$%&*()}{@#~?><>,|=_+¬-]/', 
      $value)) {
            throw new BadCharactesUsernameValidationException();
        }
        if ($val["username"] && R::findOne('user', ' username = ? ', [$value]))
       {
            throw new UsernameTakenValidationException();
        }
        if ($val["required"] && empty($value)) {
            throw new RequiredValidationException();
        }
        if (!empty($val["default"]) && empty($value)) {
            $value = $val["default"];
        }
        if ($val["email"] && !filter_var($value, FILTER_VALIDATE_EMAIL)) {
            throw new NoValidEmailValidationException();
        }
        if ($val["password"]) {
            $value = setup::doHash($value);
        }

        return $value;
    }
\end{DoxyCode}


\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/legacy/\-Validation.\-php\end{DoxyCompactItemize}
